<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>net45;netstandard1.1</TargetFrameworks>
    <!-- Disable FastUpToDate check in order to let VS to always run BeforeBuild. 
    Related to this issue http://connect.microsoft.com/VisualStudio/feedback/details/735718/visual-studio-2011-beta-is-incorrectly-building-solution -->
    <DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <DebugType>full</DebugType>
    <DefineConstants>$(DefineConstants);DIRECTX11_1;DIRECTX11_2;DirectX12</DefineConstants>

    <PackageId>SharpDX</PackageId>
    <PackageIconUrl>http://sharpdx.org/logo_100x100.png</PackageIconUrl>
    <PackageLicenseUrl>http://sharpdx.org/License.txt</PackageLicenseUrl>
    <PackageProjectUrl>http://sharpdx.org</PackageProjectUrl>
    <PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>
    <PackageTags>SharpDX DirectX Direct3D Multimedia MDX 3D</PackageTags>
    <Title>SharpDX</Title>
    <Authors>Alexandre Mutel</Authors>
    <Owners>Alexandre Mutel</Owners>
    <Copyright>Copyright (c) 2010-2014 Alexandre Mutel</Copyright>
    <Description>Core assembly for all SharpDX assemblies.</Description>
  </PropertyGroup>
  <ItemGroup>
    <None Include="Mapping-core.xml" />
    <None Include="Direct3D\Mapping.xml" />
    <None Include="Documentation\CodeComments.xml" />
    <None Include="Mapping.xml" />
    <None Include="Multimedia\Mapping.xml" />
    <None Include="SharpDX.nuspec" />
    <Compile Include="..\SharedAssemblyInfo.cs">
      <Link>Properties\SharedAssemblyInfo.cs</Link>
    </Compile>
  </ItemGroup>

  <Target Name="RunGenerator" BeforeTargets="BeforeBuild">
    <Exec Command="&quot;$(SolutionDir)Source\Tools\SharpGen\RunGenerator.bat&quot; $(ConfigurationName)" />
  </Target>
  <Target Name="PatchAssembly" AfterTargets="AfterBuild">
    <Exec Command="&quot;$(SolutionDir)\Source\Bin\SharpCLI.exe&quot; &quot;$(TargetPath)&quot;" />
  </Target>
</Project>